#+TITLE: Overlaps in the Dual Task
#+STARTUP: fold
#+PROPERTY: header-args:ipython :results both :exports both :async yes :session dual_data :kernel dual_data

* Notebook Settings
#+begin_src ipython
  %load_ext autoreload
  %autoreload 2
  %reload_ext autoreload

  %run /home/leon/models/lif_cpp/notebooks/setup.py
  %matplotlib inline
  %config InlineBackend.figure_format = 'png'
#+end_src

#+RESULTS:
: The autoreload extension is already loaded. To reload it, use:
:   %reload_ext autoreload
: Python exe
: /home/leon/mambaforge/envs/dual_data/bin/python

* Imports
#+begin_src ipython
  import sys
  sys.path.insert(0, '../')
  from dual_data.overlap.get_overlap import run_get_overlap
  from dual_data.common.fig_grid import create_grid
#+end_src

#+RESULTS:

* Overlaps
*** Sample Overlap
**** Parameters
#+begin_src ipython
  mouse = 'ACCM03'
  mice = ['JawsM15']
  tasks = ['DPA', 'DualGo', 'DualNoGo']
  days = ['first', 'last']

  kwargs = dict()
  kwargs = {'prescreen': None, 'pval':0.05, 'trials':'correct', 'balance': True,
            'method':'bootstrap', 'bolasso_pval':0.05,
            'bootstrap':True, 'n_boots':1000,
            'preprocess':False, 'scaler_BL':'robust', 'avg_noise':True, 'unit_var_BL':False,
            'clf':'log_loss', 'scaler': None, 'tol':0.001, 'penalty':'l1',
            'out_fold': 'repeated', 'n_out': 5,
            'in_fold': 'repeated', 'n_in': 5,
             'random_state': None, 'n_repeats': 10
            }

  time = np.linspace(0, 14, 84)

#+end_src

#+RESULTS:

**** single mouse

#+begin_src ipython  
  task= 'DualGo'
  features = 'distractor'

  kwargs['show_AB'] = False
  kwargs['reload'] = False
  kwargs['in_fold'] = 'stratified'
  
  for day in ['first', 'last']:
      run_get_overlap(mouse=mouse, features=features, task=task, day=day, **kwargs)
      kwargs['reload'] = False
#+end_src

#+RESULTS:
:RESULTS:
#+begin_example
    loading files from /home/leon/dual_task/dual_data/data/ACCM03
    X_days (960, 361, 84) y_days (960, 6)
    ##########################################
    PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
    ##########################################
    ##########################################
    MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
    ##########################################
    DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
    ##########################################
    multiple days
    X_S1 (82, 361, 84) X_S2 (104, 361, 84)
    n_max 82
    X_avg (164, 361)
    ##########################################
    DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
    ##########################################
    multiple days
    X_S1 (44, 361, 84) X_S2 (38, 361, 84)
    n_max 38
    X (76, 361, 84) y (76,)
  bootstrap: 100% 1000/1000 [00:02<00:00, 413.10it/s]
    Done
    loading files from /home/leon/dual_task/dual_data/data/ACCM03
    X_days (960, 361, 84) y_days (960, 6)
    ##########################################
    PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
    ##########################################
    ##########################################
    MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
    ##########################################
    DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
    ##########################################
    multiple days
    X_S1 (134, 361, 84) X_S2 (146, 361, 84)
    n_max 134
    X_avg (268, 361)
    ##########################################
    DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
    ##########################################
    multiple days
    X_S1 (70, 361, 84) X_S2 (64, 361, 84)
    n_max 64
    X (128, 361, 84) y (128,)
  bootstrap: 100% 1000/1000 [00:03<00:00, 303.31it/s]
    Done
#+end_example
[[file:./.ob-jupyter/fb31bf271bf3e8f2772bc8f5e3fc593817f81a06.png]]
:END:

**** all mice
#+begin_src ipython :
  # mice = ['ChRM04', 'JawsM15', 'JawsM18', 'ACCM03', 'ACCM04']
  mice = ['JawsM15', 'ACCM03']
  tasks = ['DPA', 'DualGo', 'DualNoGo']

  features = 'sample'
  
  kwargs['show_AB'] = False
  kwargs['reload'] = False
  kwargs['in_fold'] = 'stratified'

  for mouse in mice:
      for task in tasks:
          run_get_overlap(mouse=mouse, features=features, task=task, day='first', **kwargs)
          run_get_overlap(mouse=mouse, features=features, task=task, day='last', **kwargs)
          plt.close('all')
#+end_src

#+RESULTS:
#+begin_example
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (60, 693, 84) X_S2 (65, 693, 84)
  n_max 60
  X_avg (120, 693)
  ##########################################
  DATA: FEATURES sample TASK DPA TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (35, 693, 84) X_S2 (35, 693, 84)
  n_max 35
  X (70, 693, 84) y (70,)
bootstrap: 100% 1000/1000 [00:05<00:00, 196.07it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (79, 693, 84) X_S2 (81, 693, 84)
  n_max 79
  X_avg (158, 693)
  ##########################################
  DATA: FEATURES sample TASK DPA TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (45, 693, 84) X_S2 (44, 693, 84)
  n_max 44
  X (88, 693, 84) y (88,)
bootstrap: 100% 1000/1000 [00:03<00:00, 274.47it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (60, 693, 84) X_S2 (65, 693, 84)
  n_max 60
  X_avg (120, 693)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (27, 693, 84) X_S2 (28, 693, 84)
  n_max 27
  X (54, 693, 84) y (54,)
bootstrap: 100% 1000/1000 [00:02<00:00, 366.88it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (79, 693, 84) X_S2 (81, 693, 84)
  n_max 79
  X_avg (158, 693)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (38, 693, 84) X_S2 (40, 693, 84)
  n_max 38
  X (76, 693, 84) y (76,)
bootstrap: 100% 1000/1000 [00:03<00:00, 294.39it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (60, 693, 84) X_S2 (65, 693, 84)
  n_max 60
  X_avg (120, 693)
  ##########################################
  DATA: FEATURES sample TASK DualNoGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (33, 693, 84) X_S2 (37, 693, 84)
  n_max 33
  X (66, 693, 84) y (66,)
bootstrap: 100% 1000/1000 [00:02<00:00, 337.01it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (79, 693, 84) X_S2 (81, 693, 84)
  n_max 79
  X_avg (158, 693)
  ##########################################
  DATA: FEATURES sample TASK DualNoGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (41, 693, 84) X_S2 (41, 693, 84)
  n_max 41
  X (82, 693, 84) y (82,)
bootstrap: 100% 1000/1000 [00:03<00:00, 290.41it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (97, 361, 84) X_S2 (89, 361, 84)
  n_max 89
  X_avg (178, 361)
  ##########################################
  DATA: FEATURES sample TASK DPA TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (51, 361, 84) X_S2 (54, 361, 84)
  n_max 51
  X (102, 361, 84) y (102,)
bootstrap: 100% 1000/1000 [00:02<00:00, 371.11it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (143, 361, 84) X_S2 (137, 361, 84)
  n_max 137
  X_avg (274, 361)
  ##########################################
  DATA: FEATURES sample TASK DPA TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (73, 361, 84) X_S2 (77, 361, 84)
  n_max 73
  X (146, 361, 84) y (146,)
bootstrap: 100% 1000/1000 [00:03<00:00, 299.96it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (97, 361, 84) X_S2 (89, 361, 84)
  n_max 89
  X_avg (178, 361)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (44, 361, 84) X_S2 (38, 361, 84)
  n_max 38
  X (76, 361, 84) y (76,)
bootstrap: 100% 1000/1000 [00:02<00:00, 392.76it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (143, 361, 84) X_S2 (137, 361, 84)
  n_max 137
  X_avg (274, 361)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (70, 361, 84) X_S2 (64, 361, 84)
  n_max 64
  X (128, 361, 84) y (128,)
bootstrap: 100% 1000/1000 [00:03<00:00, 317.32it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (97, 361, 84) X_S2 (89, 361, 84)
  n_max 89
  X_avg (178, 361)
  ##########################################
  DATA: FEATURES sample TASK DualNoGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (53, 361, 84) X_S2 (51, 361, 84)
  n_max 51
  X (102, 361, 84) y (102,)
bootstrap: 100% 1000/1000 [00:02<00:00, 372.10it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (143, 361, 84) X_S2 (137, 361, 84)
  n_max 137
  X_avg (274, 361)
  ##########################################
  DATA: FEATURES sample TASK DualNoGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (73, 361, 84) X_S2 (73, 361, 84)
  n_max 73
  X (146, 361, 84) y (146,)
bootstrap: 100% 1000/1000 [00:03<00:00, 297.36it/s]
  Done
#+end_example

*** Distractor overlap
**** Parameters
#+begin_src ipython
  mice = ['ChRM04','JawsM15', 'JawsM18', 'ACCM03', 'ACCM04', 'AP02', 'AP12']
  tasks = ['DPA', 'DualGo', 'DualNoGo']
  days = ['first', 'last']

  kwargs = dict()
  kwargs = {'prescreen': None, 'pval':0.05, 'trials':'correct', 'balance': True,
            'method':'bootstrap', 'bolasso_pval':0.05,
            'bootstrap':True, 'n_boots':1000,
            'preprocess':False, 'scaler_BL': None, 'avg_noise':False, 'unit_var_BL':False,
            'clf':'log_loss', 'scaler': None, 'tol':0.001, 'penalty':'l1',
            'out_fold': 'stratified', 'n_out': 5,
            'in_fold': 'stratified', 'n_in': 5,
             'random_state': None, 'n_repeats': 10
            }
#+end_src

#+RESULTS:

**** Single Mouse
#+begin_src ipython
  mouse = 'AP02'
  task= 'DualGo'
  features = 'distractor'

  kwargs['show_AB'] = False
  kwargs['reload'] = False
  
  for day in ['first', 'last']:
      run_get_overlap(mouse=mouse, features=features, task=task, day=day, **kwargs)
      kwargs['reload'] = False
#+end_src

#+RESULTS:
:RESULTS:
#+begin_example
    loading files from /home/leon/dual_task/dual_data/data/AP02
    X_days (1848, 702, 115) y_days (1848, 6)
    ##########################################
    MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
    ##########################################
    DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
    ##########################################
    multiple days 0 5 0
    X_S1 (203, 702, 115) X_S2 (211, 702, 115)
    n_max 203
    X_avg (406, 702)
    ##########################################
    DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
    ##########################################
    multiple days 0 5 0
    X_S1 (50, 702, 115) X_S2 (52, 702, 115)
    n_max 50
    X (100, 702, 115) y (100,)
  bootstrap: 100% 1000/1000 [00:05<00:00, 191.74it/s]
    Done
    loading files from /home/leon/dual_task/dual_data/data/AP02
    X_days (1848, 702, 115) y_days (1848, 6)
    ##########################################
    MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
    ##########################################
    DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
    ##########################################
    multiple days 0 5 0
    X_S1 (260, 702, 115) X_S2 (260, 702, 115)
    n_max 260
    X_avg (520, 702)
    ##########################################
    DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
    ##########################################
    multiple days 0 5 0
    X_S1 (53, 702, 115) X_S2 (64, 702, 115)
    n_max 53
    X (106, 702, 115) y (106,)
  bootstrap: 100% 1000/1000 [00:05<00:00, 184.37it/s]
    Done
#+end_example
[[file:./.ob-jupyter/50cc74c9ff2ffe831f81394978da3e675c17a4b6.png]]
:END:

**** all mice
#+begin_src ipython :
  mice = ['ChRM04','JawsM15', 'JawsM18', 'ACCM03', 'ACCM04', 'AP02', 'AP12']
  tasks = ['DPA', 'DualGo', 'DualNoGo']
  tasks = ['DualGo']
  features = 'distractor'

  kwargs['show_AB'] = False
  kwargs['reload'] = False

  for mouse in mice:
      for task in tasks:
          for day in ['first', 'last']:
              run_get_overlap(mouse=mouse, features=features, task=task, day=day, **kwargs)
              kwargs['reload'] = False
          plt.close('all')
#+end_src

#+RESULTS:
#+begin_example
  loading files from /home/leon/dual_task/dual_data/data/ChRM04
  X_days (1152, 668, 84) y_days (1152, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (77, 668, 84) X_S2 (77, 668, 84)
  n_max 77
  X_avg (154, 668)
  boots_coefs (1000, 668)
  p_val (668,)
  significant 501
  X_fs (154, 501)
  samples (154,) features (668,) non zero 501
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (39, 668, 84) X_S2 (38, 668, 84)
  n_max 38
  X (76, 668, 84) y (76,)
bootstrap: 100% 1000/1000 [00:04<00:00, 202.78it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ChRM04
  X_days (1152, 668, 84) y_days (1152, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (89, 668, 84) X_S2 (87, 668, 84)
  n_max 87
  X_avg (174, 668)
  boots_coefs (1000, 668)
  p_val (668,)
  significant 554
  X_fs (174, 554)
  samples (174,) features (668,) non zero 554
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (43, 668, 84) X_S2 (46, 668, 84)
  n_max 43
  X (86, 668, 84) y (86,)
bootstrap: 100% 1000/1000 [00:03<00:00, 287.81it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (55, 693, 84) X_S2 (70, 693, 84)
  n_max 55
  X_avg (110, 693)
  boots_coefs (1000, 693)
  p_val (693,)
  significant 635
  X_fs (110, 635)
  samples (110,) features (693,) non zero 635
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (27, 693, 84) X_S2 (28, 693, 84)
  n_max 27
  X (54, 693, 84) y (54,)
bootstrap: 100% 1000/1000 [00:02<00:00, 387.36it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (78, 693, 84) X_S2 (82, 693, 84)
  n_max 78
  X_avg (156, 693)
  boots_coefs (1000, 693)
  p_val (693,)
  significant 640
  X_fs (156, 640)
  samples (156,) features (693,) non zero 640
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (38, 693, 84) X_S2 (40, 693, 84)
  n_max 38
  X (76, 693, 84) y (76,)
bootstrap: 100% 1000/1000 [00:03<00:00, 305.87it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM18
  X_days (1152, 444, 84) y_days (1152, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (78, 444, 84) X_S2 (77, 444, 84)
  n_max 77
  X_avg (154, 444)
  boots_coefs (1000, 444)
  p_val (444,)
  significant 385
  X_fs (154, 385)
  samples (154,) features (444,) non zero 385
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (37, 444, 84) X_S2 (41, 444, 84)
  n_max 37
  X (74, 444, 84) y (74,)
bootstrap: 100% 1000/1000 [00:02<00:00, 423.74it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM18
  X_days (1152, 444, 84) y_days (1152, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (94, 444, 84) X_S2 (94, 444, 84)
  n_max 94
  X_avg (188, 444)
  boots_coefs (1000, 444)
  p_val (444,)
  significant 387
  X_fs (188, 387)
  samples (188,) features (444,) non zero 387
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (46, 444, 84) X_S2 (48, 444, 84)
  n_max 46
  X (92, 444, 84) y (92,)
bootstrap: 100% 1000/1000 [00:02<00:00, 360.31it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (82, 361, 84) X_S2 (104, 361, 84)
  n_max 82
  X_avg (164, 361)
  boots_coefs (1000, 361)
  p_val (361,)
  significant 326
  X_fs (164, 326)
  samples (164,) features (361,) non zero 326
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (44, 361, 84) X_S2 (38, 361, 84)
  n_max 38
  X (76, 361, 84) y (76,)
bootstrap: 100% 1000/1000 [00:02<00:00, 402.75it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (134, 361, 84) X_S2 (146, 361, 84)
  n_max 134
  X_avg (268, 361)
  boots_coefs (1000, 361)
  p_val (361,)
  significant 309
  X_fs (268, 309)
  samples (268,) features (361,) non zero 309
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (70, 361, 84) X_S2 (64, 361, 84)
  n_max 64
  X (128, 361, 84) y (128,)
bootstrap: 100% 1000/1000 [00:02<00:00, 361.41it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM04
  X_days (960, 113, 84) y_days (960, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (86, 113, 84) X_S2 (89, 113, 84)
  n_max 86
  X_avg (172, 113)
  boots_coefs (1000, 113)
  p_val (113,)
  significant 110
  X_fs (172, 110)
  samples (172,) features (113,) non zero 110
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (41, 113, 84) X_S2 (45, 113, 84)
  n_max 41
  X (82, 113, 84) y (82,)
bootstrap: 100% 1000/1000 [00:02<00:00, 499.10it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM04
  X_days (960, 113, 84) y_days (960, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (121, 113, 84) X_S2 (118, 113, 84)
  n_max 118
  X_avg (236, 113)
  boots_coefs (1000, 113)
  p_val (113,)
  significant 106
  X_fs (236, 106)
  samples (236,) features (113,) non zero 106
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (62, 113, 84) X_S2 (59, 113, 84)
  n_max 59
  X (118, 113, 84) y (118,)
bootstrap: 100% 1000/1000 [00:02<00:00, 482.22it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/AP02
  X_days (1848, 702, 115) y_days (1848, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 3 3 0
  X_S1 (128, 702, 115) X_S2 (123, 702, 115)
  n_max 123
  X_avg (246, 702)
  boots_coefs (1000, 702)
  p_val (702,)
  significant 647
  X_fs (246, 647)
  samples (246,) features (702,) non zero 647
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 3 3 0
  X_S1 (31, 702, 115) X_S2 (30, 702, 115)
  n_max 30
  X (60, 702, 115) y (60,)
bootstrap: 100% 1000/1000 [00:03<00:00, 304.35it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/AP02
  X_days (1848, 702, 115) y_days (1848, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 3 3 0
  X_S1 (212, 702, 115) X_S2 (214, 702, 115)
  n_max 212
  X_avg (424, 702)
  boots_coefs (1000, 702)
  p_val (702,)
  significant 649
  X_fs (424, 649)
  samples (424,) features (702,) non zero 649
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 3 3 0
  X_S1 (42, 702, 115) X_S2 (53, 702, 115)
  n_max 42
  X (84, 702, 115) y (84,)
bootstrap: 100% 1000/1000 [00:03<00:00, 251.65it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/AP12
  X_days (1848, 741, 115) y_days (1848, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 3 3 0
  X_S1 (122, 741, 115) X_S2 (122, 741, 115)
  n_max 122
  X_avg (244, 741)
  boots_coefs (1000, 741)
  p_val (741,)
  significant 699
  X_fs (244, 699)
  samples (244,) features (741,) non zero 699
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 3 3 0
  X_S1 (23, 741, 115) X_S2 (26, 741, 115)
  n_max 23
  X (46, 741, 115) y (46,)
bootstrap: 100% 1000/1000 [00:02<00:00, 375.03it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/AP12
  X_days (1848, 741, 115) y_days (1848, 6)
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bolasso FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 3 3 0
  X_S1 (186, 741, 115) X_S2 (185, 741, 115)
  n_max 185
  X_avg (370, 741)
  boots_coefs (1000, 741)
  p_val (741,)
  significant 701
  X_fs (370, 701)
  samples (370,) features (741,) non zero 701
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 3 3 0
  X_S1 (35, 741, 115) X_S2 (39, 741, 115)
  n_max 35
  X (70, 741, 115) y (70,)
bootstrap: 100% 1000/1000 [00:03<00:00, 284.86it/s]
  Done
#+end_example

* Summary
#+begin_src ipython
  def figname(mouse):
        return mouse + "_DualGo_distractor_overlap.svg"

  figlist = ['../figs/' + figname(mouse) for mouse in mice]
  print(figlist)

  golden_ratio = (5**.5 - 1) / 2
  width = 4.3
  height = width * golden_ratio * 1.4
  figsize = [width, height]
  matplotlib.rcParams['lines.markersize'] = 5.5

  create_grid(figlist, "../figs/performance_all_mice.svg", dim=[3,3], fontsize=22)

#+end_src

#+RESULTS:
: ['../figs/ChRM04_DualGo_distractor_overlap.svg', '../figs/JawsM15_DualGo_distractor_overlap.svg', '../figs/JawsM18_DualGo_distractor_overlap.svg', '../figs/ACCM03_DualGo_distractor_overlap.svg', '../figs/ACCM04_DualGo_distractor_overlap.svg', '../figs/AP02_DualGo_distractor_overlap.svg', '../figs/AP12_DualGo_distractor_overlap.svg']
: 504.0 311.48913
: ['1512pt', '934pt']

#+NAME: fig:temporal_decoding
#+CAPTION: Temporal Decoding
#+ATTR_ORG: :width 1200
#+ATTR_LATEX: :width 5in
[[file:../figs/performance_all_mice.svg]]
