#+TITLE: Overlaps in the Dual Task
#+STARTUP: fold
#+PROPERTY: header-args:ipython :results both :exports both :async yes :session dual_data :kernel dual_data

* Notebook Settings
#+begin_src ipython
  %load_ext autoreload
  %autoreload 2
  %reload_ext autoreload
  
  %run /home/leon/dual_task/dual_data/notebooks/setup.py
  %matplotlib inline
  %config InlineBackend.figure_format = 'png'
#+end_src

#+RESULTS:
: The autoreload extension is already loaded. To reload it, use:
:   %reload_ext autoreload
: Python exe
: /home/leon/mambaforge/envs/dual_data/bin/python

* Imports

#+begin_src ipython
  import sys
  sys.path.insert(0, '../')
  from dual_data.overlap.get_overlap import run_get_overlap
  from dual_data.overlap.get_overlap_day import run_get_overlap_day
  from dual_data.common.fig_grid import create_grid
#+end_src

#+RESULTS:

* Overlap vs Time
*** Sample Overlap
**** Parameters
#+begin_src ipython
  mouse = 'JawsM15'
  mice = ['JawsM15']
  tasks = ['DPA', 'DualGo', 'DualNoGo']
  days = ['first', 'last']

  kwargs = dict()
  kwargs = {'prescreen': None, 'pval':0.05, 'trials':'correct', 'balance': True,
            'method':'bootstrap', 'bolasso_pval':0.05,
            'bootstrap':True, 'n_boots':1000,
            'preprocess':False, 'scaler_BL':'robust', 'avg_noise':True, 'unit_var_BL':False,
            'clf':'log_loss', 'scaler': None, 'tol':0.001, 'penalty':'l1',
            'out_fold': 'repeated', 'n_out': 5,
            'in_fold': 'repeated', 'n_in': 5,
             'random_state': None, 'n_repeats': 10
            }

  time = np.linspace(0, 14, 84)

#+end_src

#+RESULTS:

**** single mouse

#+begin_src ipython  
  task= 'DualGo'
  features = 'distractor'

  kwargs['show_AB'] = False
  kwargs['reload'] = False
  kwargs['in_fold'] = 'stratified'
  
  for day in ['first', 'last']:
      run_get_overlap(mouse=mouse, features=features, task=task, day=day, **kwargs)
      kwargs['reload'] = False
#+end_src

#+RESULTS:
:RESULTS:
#+begin_example
    loading files from /home/leon/dual_task/dual_data/data/ACCM03
    X_days (960, 361, 84) y_days (960, 6)
    ##########################################
    PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
    ##########################################
    ##########################################
    MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
    ##########################################
    DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
    ##########################################
    multiple days
    X_S1 (82, 361, 84) X_S2 (104, 361, 84)
    n_max 82
    X_avg (164, 361)
    ##########################################
    DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
    ##########################################
    multiple days
    X_S1 (44, 361, 84) X_S2 (38, 361, 84)
    n_max 38
    X (76, 361, 84) y (76,)
  bootstrap: 100% 1000/1000 [00:02<00:00, 413.10it/s]
    Done
    loading files from /home/leon/dual_task/dual_data/data/ACCM03
    X_days (960, 361, 84) y_days (960, 6)
    ##########################################
    PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
    ##########################################
    ##########################################
    MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
    ##########################################
    DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
    ##########################################
    multiple days
    X_S1 (134, 361, 84) X_S2 (146, 361, 84)
    n_max 134
    X_avg (268, 361)
    ##########################################
    DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
    ##########################################
    multiple days
    X_S1 (70, 361, 84) X_S2 (64, 361, 84)
    n_max 64
    X (128, 361, 84) y (128,)
  bootstrap: 100% 1000/1000 [00:03<00:00, 303.31it/s]
    Done
#+end_example
[[file:./.ob-jupyter/fb31bf271bf3e8f2772bc8f5e3fc593817f81a06.png]]
:END:

**** all mice
#+begin_src ipython :
  # mice = ['ChRM04', 'JawsM15', 'JawsM18', 'ACCM03', 'ACCM04']
  mice = ['JawsM15', 'ACCM03']
  tasks = ['DPA', 'DualGo', 'DualNoGo']

  features = 'sample'
  
  kwargs['show_AB'] = False
  kwargs['reload'] = False
  kwargs['in_fold'] = 'stratified'

  for mouse in mice:
      for task in tasks:
          run_get_overlap(mouse=mouse, features=features, task=task, day='first', **kwargs)
          run_get_overlap(mouse=mouse, features=features, task=task, day='last', **kwargs)
          plt.close('all')
#+end_src

#+RESULTS:
#+begin_example
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (60, 693, 84) X_S2 (65, 693, 84)
  n_max 60
  X_avg (120, 693)
  ##########################################
  DATA: FEATURES sample TASK DPA TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (35, 693, 84) X_S2 (35, 693, 84)
  n_max 35
  X (70, 693, 84) y (70,)
bootstrap: 100% 1000/1000 [00:05<00:00, 196.07it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (79, 693, 84) X_S2 (81, 693, 84)
  n_max 79
  X_avg (158, 693)
  ##########################################
  DATA: FEATURES sample TASK DPA TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (45, 693, 84) X_S2 (44, 693, 84)
  n_max 44
  X (88, 693, 84) y (88,)
bootstrap: 100% 1000/1000 [00:03<00:00, 274.47it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (60, 693, 84) X_S2 (65, 693, 84)
  n_max 60
  X_avg (120, 693)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (27, 693, 84) X_S2 (28, 693, 84)
  n_max 27
  X (54, 693, 84) y (54,)
bootstrap: 100% 1000/1000 [00:02<00:00, 366.88it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (79, 693, 84) X_S2 (81, 693, 84)
  n_max 79
  X_avg (158, 693)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (38, 693, 84) X_S2 (40, 693, 84)
  n_max 38
  X (76, 693, 84) y (76,)
bootstrap: 100% 1000/1000 [00:03<00:00, 294.39it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (60, 693, 84) X_S2 (65, 693, 84)
  n_max 60
  X_avg (120, 693)
  ##########################################
  DATA: FEATURES sample TASK DualNoGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (33, 693, 84) X_S2 (37, 693, 84)
  n_max 33
  X (66, 693, 84) y (66,)
bootstrap: 100% 1000/1000 [00:02<00:00, 337.01it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM15
  X_days (1152, 693, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (79, 693, 84) X_S2 (81, 693, 84)
  n_max 79
  X_avg (158, 693)
  ##########################################
  DATA: FEATURES sample TASK DualNoGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (41, 693, 84) X_S2 (41, 693, 84)
  n_max 41
  X (82, 693, 84) y (82,)
bootstrap: 100% 1000/1000 [00:03<00:00, 290.41it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (97, 361, 84) X_S2 (89, 361, 84)
  n_max 89
  X_avg (178, 361)
  ##########################################
  DATA: FEATURES sample TASK DPA TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (51, 361, 84) X_S2 (54, 361, 84)
  n_max 51
  X (102, 361, 84) y (102,)
bootstrap: 100% 1000/1000 [00:02<00:00, 371.11it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (143, 361, 84) X_S2 (137, 361, 84)
  n_max 137
  X_avg (274, 361)
  ##########################################
  DATA: FEATURES sample TASK DPA TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (73, 361, 84) X_S2 (77, 361, 84)
  n_max 73
  X (146, 361, 84) y (146,)
bootstrap: 100% 1000/1000 [00:03<00:00, 299.96it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (97, 361, 84) X_S2 (89, 361, 84)
  n_max 89
  X_avg (178, 361)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (44, 361, 84) X_S2 (38, 361, 84)
  n_max 38
  X (76, 361, 84) y (76,)
bootstrap: 100% 1000/1000 [00:02<00:00, 392.76it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (143, 361, 84) X_S2 (137, 361, 84)
  n_max 137
  X_avg (274, 361)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (70, 361, 84) X_S2 (64, 361, 84)
  n_max 64
  X (128, 361, 84) y (128,)
bootstrap: 100% 1000/1000 [00:03<00:00, 317.32it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (97, 361, 84) X_S2 (89, 361, 84)
  n_max 89
  X_avg (178, 361)
  ##########################################
  DATA: FEATURES sample TASK DualNoGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days
  X_S1 (53, 361, 84) X_S2 (51, 361, 84)
  n_max 51
  X (102, 361, 84) y (102,)
bootstrap: 100% 1000/1000 [00:02<00:00, 372.10it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN 0 AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: SCALER None IMBALANCE False PRESCREEN None PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES sample TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (143, 361, 84) X_S2 (137, 361, 84)
  n_max 137
  X_avg (274, 361)
  ##########################################
  DATA: FEATURES sample TASK DualNoGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days
  X_S1 (73, 361, 84) X_S2 (73, 361, 84)
  n_max 73
  X (146, 361, 84) y (146,)
bootstrap: 100% 1000/1000 [00:03<00:00, 297.36it/s]
  Done
#+end_example

*** Distractor overlap
**** Parameters
#+begin_src ipython
  mice = ['ChRM04','JawsM15', 'JawsM18', 'ACCM03', 'ACCM04']
  tasks = ['DPA', 'DualGo', 'DualNoGo']
  days = ['first', 'last']

  kwargs = dict()
  kwargs = {'prescreen': 'corr', 'pval': 0.05, 'trials': 'correct', 'balance': 'under',
            'method': 'bootstrap', 'bolasso_pval':0.05, 'bolasso_penalty': 'l2',
            'bootstrap': True, 'n_boots': 1000,
            'preprocess': True, 'scaler_BL': 'robust', 'avg_noise':True, 'unit_var_BL':False,
            'clf':'log_loss', 'scaler': None, 'tol':0.001, 'penalty':'l1',
            'out_fold': 'stratified', 'n_out': 5,
            'in_fold': 'stratified', 'n_in': 5,
            'random_state': None, 'n_repeats': 10,
            'n_lambda': 20,
            }
#+end_src

#+RESULTS:

**** Single Mouse
#+begin_src ipython
  mouse = 'JawsM15'
  task= 'DualGo'
  features = 'distractor'

  kwargs['show_AB'] = False
  kwargs['reload'] = False
  
  for day in ['first', 'last']:
      run_get_overlap(mouse=mouse, features=features, task=task, day=day, **kwargs)
      kwargs['reload'] = False
#+end_src

#+RESULTS:
:RESULTS:
#+begin_example
    loading files from /home/leon/dual_task/dual_data/data/JawsM15
    X_days (1152, 693, 84) y_days (1152, 6)
    ##########################################
    PREPROCESSING: SCALER robust AVG MEAN False AVG NOISE True UNIT VAR False
    ##########################################
    ##########################################
    MODEL: RESAMPLE under SCALER None PRESCREEN corr PCA False METHOD bootstrap FOLDS stratified CLF log_loss
    ##########################################
    DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
    ##########################################
    multiple days 0 3 0
    X_S1 (55, 693, 84) X_S2 (70, 693, 84)
    ##########################################
    DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
    ##########################################
    multiple days 0 3 0
    X_S1 (27, 693, 84) X_S2 (28, 693, 84)
    X (55, 693, 84) y (55,)
  bootstrap: 100% 1000/1000 [00:03<00:00, 322.04it/s]
    Done
    loading files from /home/leon/dual_task/dual_data/data/JawsM15
    X_days (1152, 693, 84) y_days (1152, 6)
    ##########################################
    PREPROCESSING: SCALER robust AVG MEAN False AVG NOISE True UNIT VAR False
    ##########################################
    ##########################################
    MODEL: RESAMPLE under SCALER None PRESCREEN corr PCA False METHOD bootstrap FOLDS stratified CLF log_loss
    ##########################################
    DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
    ##########################################
    multiple days 0 3 0
    X_S1 (78, 693, 84) X_S2 (82, 693, 84)
    ##########################################
    DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
    ##########################################
    multiple days 0 3 0
    X_S1 (38, 693, 84) X_S2 (40, 693, 84)
    X (78, 693, 84) y (78,)
  bootstrap: 100% 1000/1000 [00:03<00:00, 279.99it/s]
    Done
#+end_example
[[file:./.ob-jupyter/dc37f7a52494c661dfa16c4dc9ede9c7600d40d1.png]]
:END:
**** all mice
#+begin_src ipython
  mice = ['ChRM04', 'JawsM18', 'ACCM03', 'ACCM04']
  tasks = ['DPA', 'DualGo', 'DualNoGo']
  tasks = ['DualGo']
  features = 'distractor'

  kwargs['show_AB'] = False
  kwargs['reload'] = False

  for mouse in mice:
      # if ('ACC' in mouse) or ('18' in mouse):
      #     kwargs['penalty'] = 'l2'
      
      for task in tasks:
          for day in ['first', 'last']:
              run_get_overlap(mouse=mouse, features=features, task=task, day=day, **kwargs)
              kwargs['reload'] = False
          plt.close('all')
#+end_src

#+RESULTS:
#+begin_example
  loading files from /home/leon/dual_task/dual_data/data/ChRM04
  X_days (1152, 668, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN False AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: RESAMPLE under SCALER None PRESCREEN corr PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (77, 668, 84) X_S2 (77, 668, 84)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (39, 668, 84) X_S2 (38, 668, 84)
  X (77, 668, 84) y (77,)
bootstrap: 100% 1000/1000 [00:03<00:00, 284.79it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ChRM04
  X_days (1152, 668, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN False AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: RESAMPLE under SCALER None PRESCREEN corr PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (89, 668, 84) X_S2 (87, 668, 84)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (43, 668, 84) X_S2 (46, 668, 84)
  X (89, 668, 84) y (89,)
bootstrap: 100% 1000/1000 [00:03<00:00, 273.00it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM18
  X_days (1152, 444, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN False AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: RESAMPLE under SCALER None PRESCREEN corr PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (78, 444, 84) X_S2 (77, 444, 84)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (37, 444, 84) X_S2 (41, 444, 84)
  X (78, 444, 84) y (78,)
bootstrap: 100% 1000/1000 [00:02<00:00, 366.63it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/JawsM18
  X_days (1152, 444, 84) y_days (1152, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN False AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: RESAMPLE under SCALER None PRESCREEN corr PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (94, 444, 84) X_S2 (94, 444, 84)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (46, 444, 84) X_S2 (48, 444, 84)
  X (94, 444, 84) y (94,)
bootstrap: 100% 1000/1000 [00:03<00:00, 329.23it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN False AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: RESAMPLE under SCALER None PRESCREEN corr PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (82, 361, 84) X_S2 (104, 361, 84)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (44, 361, 84) X_S2 (38, 361, 84)
  X (82, 361, 84) y (82,)
bootstrap: 100% 1000/1000 [00:02<00:00, 360.57it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM03
  X_days (960, 361, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN False AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: RESAMPLE under SCALER None PRESCREEN corr PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (134, 361, 84) X_S2 (146, 361, 84)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (70, 361, 84) X_S2 (64, 361, 84)
  X (134, 361, 84) y (134,)
bootstrap: 100% 1000/1000 [00:03<00:00, 311.13it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM04
  X_days (960, 113, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN False AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: RESAMPLE under SCALER None PRESCREEN corr PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (86, 113, 84) X_S2 (89, 113, 84)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS first LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (41, 113, 84) X_S2 (45, 113, 84)
  X (86, 113, 84) y (86,)
bootstrap: 100% 1000/1000 [00:02<00:00, 428.27it/s]
  Done
  loading files from /home/leon/dual_task/dual_data/data/ACCM04
  X_days (960, 113, 84) y_days (960, 6)
  ##########################################
  PREPROCESSING: SCALER robust AVG MEAN False AVG NOISE True UNIT VAR False
  ##########################################
  ##########################################
  MODEL: RESAMPLE under SCALER None PRESCREEN corr PCA False METHOD bootstrap FOLDS stratified CLF log_loss
  ##########################################
  DATA: FEATURES distractor TASK Dual TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (121, 113, 84) X_S2 (118, 113, 84)
  ##########################################
  DATA: FEATURES sample TASK DualGo TRIALS correct DAYS last LASER 0
  ##########################################
  multiple days 0 3 0
  X_S1 (62, 113, 84) X_S2 (59, 113, 84)
  X (121, 113, 84) y (121,)
bootstrap: 100% 1000/1000 [00:02<00:00, 419.64it/s]
  Done
#+end_example

*** Summary
#+begin_src ipython
  def figname(mouse):
        return mouse + "_DualGo_distractor_overlap.svg"

  figlist = ['../figs/' + figname(mouse) for mouse in mice]
  print(figlist)

  golden_ratio = (5**.5 - 1) / 2
  width = 4.3
  height = width * golden_ratio * 1.4
  figsize = [width, height]
  matplotlib.rcParams['lines.markersize'] = 5.5

  create_grid(figlist, "../figs/overlaps_all_mice.svg", dim=[3,2], fontsize=22)

#+end_src

#+RESULTS:
: ['../figs/ChRM04_DualGo_distractor_overlap.svg', '../figs/JawsM18_DualGo_distractor_overlap.svg', '../figs/ACCM03_DualGo_distractor_overlap.svg', '../figs/ACCM04_DualGo_distractor_overlap.svg']
: 504.0 311.48913
: ['1512pt', '622pt']

#+ATTR_ORG: :width 2300
[[file:../figs/overlaps_all_mice.svg]]
